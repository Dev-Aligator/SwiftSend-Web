<style type="text/css">
	.modal {
	  display: none; /* Hidden by default */
	  position: absolute; /* Stay in place */
	  z-index: 1; /* Sit on top */
	  left: 0;
	  top: 0;
	  width: 100%; /* Full width */
	  height: 100%; /* Full height */
	  overflow: auto !important; /* Enable scroll if needed */
	  background-color: rgb(0,0,0); /* Fallback color */
	  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
	}

	/* Modal Content/Box */
	.modal-content {
	  background-color: #eee;
	  margin: 15% auto; /* 15% from the top and centered */
	  padding: 20px;
	  border: 1px solid #888;
	  width: 80% !important;  /*Could be more or less, depending on screen size*/ 
	}

	/* The Close Button */
	.close {
	  color: #aaa;
	  float: right;
	  font-size: 28px;
	  font-weight: bold;
	}

	.close:hover,
	.close:focus {
	  color: black;
	  text-decoration: none;
	  cursor: pointer;
	}

	.slideshow-container {
	  max-width: 100%;
	  position: relative;
	  margin: auto;
	}

	/* Next & previous buttons */
	.prev, .next {
	  cursor: pointer;
	  position: absolute;
	  top: 50%;
	  width: auto;
	  padding: 16px;
	  margin-top: -22px;
	  color: white;
	  font-weight: bold;
	  font-size: 18px;
	  transition: 0.6s ease;
	  border-radius: 0 3px 3px 0;
	  user-select: none;
	}

	/* Position the "next button" to the right */
	.next {
	  right: 0;
	  border-radius: 3px 0 0 3px;
	}

	/* On hover, add a black background color with a little bit see-through */
	.prev:hover, .next:hover {
	  background-color: rgba(0,0,0,0.8);
	}

	/* Caption text */
	.text {
	  color: #f2f2f2;
	  font-size: 15px;
	  padding: 8px 12px;
	  position: absolute;
	  bottom: 8px;
	  width: 100%;
	  text-align: center;
	}

	/* Number text (1/3 etc) */
	.numbertext {
	  color: #f2f2f2;
	  font-size: 12px;
	  padding: 8px 12px;
	  position: absolute;
	  top: 0;
	}

	/* The dots/bullets/indicators */
	.dot {
	  cursor: pointer;
	  height: 15px;
	  width: 15px;
	  margin: 0 2px;
	  background-color: #bbb;
	  border-radius: 50%;
	  display: inline-block;
	  transition: background-color 0.6s ease;
	}

	.active, .dot:hover {
	  background-color: #717171;
	}

	/* Fading animation */
	.fade {
	  -webkit-animation-name: fade;
	  -webkit-animation-duration: 1s;
	  animation-name: fade;
	  animation-duration: 1s;
	}

	@-webkit-keyframes fade {
	  0% {opacity: .4} 
	  100% {opacity: 1}
	}

	@keyframes fade {
	  0% {opacity: .4} 
	  100% {opacity: 1}
	}

	/* On smaller screens, decrease text size */
	@media only screen and (max-width: 300px) {
	  .prev, .next,.text {font-size: 11px}
	}
</style>

<div id="modal" class="modal">
	<div class="modal-content">
		<span class="close">&times;</span>
		<div class="slideshow-container">

		{% for i in x %}
			{% if forloop.counter == 1 %}
			<div class="mySlides active">
			{% else %}
			<div class="mySlides" style="display: none">
			{% endif %}
				<div class="numbertext">{{forloop.counter}} / 3</div>
				<img src="{{ i.notesfile.url }}" style="width:100%">

				<div class="text">{{ i.notesfile.name }}</div>
		  	</div>
		{% endfor %}

		<a class="prev" onclick="plusSlides(-1)">&#10094;</a>
		<a class="next" onclick="plusSlides(1)">&#10095;</a>

		</div>
		<br>
	</div>
</div>

<script type="text/javascript">
	var btn = document.getElementById('myBtn');
	var modal = document.getElementById('modal');

	var span = document.getElementsByClassName('close')[0];

	function click() {
		modal.style.display = "block";
		console.log("Clicked");
	}

	span.onclick = () => {
		modal.style.display = "none";
	}

	window.onclick = () => {
		if(event.target == modal) {
			modal.style.display = "none";
		}
	}

	// Modal Carousel
	var slideIndex = 1;
	// showSlides(slideIndex);

	function plusSlides(n) {
	  showSlides(slideIndex += n);
	}

	function currentSlide(n) {
	  showSlides(slideIndex = n);
	}

	function showSlides(n) {
	  var i;
	  var slides = document.getElementsByClassName("mySlides");
	  console.log(slides);
	  if (n >= slides.length) {slideIndex = 1}    
	  if (n <= 1) {slideIndex = slides.length }
	  console.log(slideIndex, n);
	  for (i = 0; i < slides.length; i++) {
	      slides[i].style.display = "none";  
	  }
	  slides[slideIndex-1].style.display = "block";  
	}

</script>